EC2 : Elastic Compute Cloud :  Instance = Server
Terminate = Delete

Pay-as-you-go : 

Client class os : win7, win 10, Win 11 
Server class os : server 2012 r2, 2016, 2019, linux server os.. 

On-Demand ec2 instance : When we have Unpredictable workloads, Testing for the first time.. "FREE TIER ELIGIBILITY"
Pricing : /Sec (Min of 60 Sec) / /hr
__

Reserved ec2 Instances : When our workload is stable and predictable.. For longer durations.. We need to reserve the capacity for 1 Yr/3 yrs.
"NO FREE TIER ELIGIBILITY"

	Standard RI : We cannot change the configuration during the period.
	Convertable RI : We can change the configuration. (upgrade)
	Scheduled RI : If we have persistent / repeated requests. (N Virginia)

Pricing : 
	Full upfront : Pay 100% as onetime.
	Partial upfront : Pay 30-50% as onetime, THen remaining amount on monthly basis with redused hrly price.
	No Upfront : Pay everything monthly basis.

--> We can sell RI instances in AWS MarketPlace.
__
Spot ec2 instances : When we have flexible start/stop durations.. No critical data/application is delivering.. Test/UAT.. Bid your price against the aws pricing. 

--> If your quoted price is more than or equal to aws price, we will get an EC2 instance.
--> If price increased, aws will Terminate our ec2 instance.

If price increased "AWS termnated instance", we need to pay only completed billing hours.
If price not increased "YOU termnated instance", we need to pay for full usage hours.

1 hr 59 Min : AWS terminated : 1 Hr
1 Hr 30 Min : YOU terminated : 1 Hr 30 Min

"NO FREE TIER ELIGIBILITY"

__________________________________________________________________________________

D: 07/01/2022

Only On-Demand ec2 instances comes under free tier eligibility.
** Fix to one region. ap-south-1

Windows ec2 instance launch : 

Step 1 : Choose an AMI (Amazon Machine Image)	: Operating System : Windows server 2016 base
	
Step 2 : Choose an Instance type 		: vCPU, Memory(RAM), Network perf
__ t2.micro


General Purpose : Stable/balanced performance of compute, memory and network resources.
Type : t2, t3, t4, m5

Compute Optimized : We will get more CPU performances from these instances. We will have high perf processors in these instances.
Type : c4, c5, c6  (Compute / CPU)

Memory Optimized : We will get more RAM perf. Workloads required to process large set of data via memory.
Type : r4, r5, r6, x1, z1 (RAM)

GPU Optimized / Accelerated computing : We will get more graphic processings, Efficient for data pattern matching, High level gaming.
Type : p2, p3, p4, g3, g4, f1  

Storage optimized : we will get more Storage/ Hard Disk performance. FOr the application required more IOPS, we use this types.
Type : d2, d3, i3

m5.large	: 2 CPU, 8 RAM
c5.xlarge	: 4 cpu, 8 ram
t3.medium	: 2 cpu, 4 ram

Maintenance windows : Sat 03 AM IST.. : greenzone window  : CRQ (Change Request)

Step 3 : Configure additional settings
	VPC, ROles, userdata

	Instance Termination protection : Enable (Protect against accidental termination)
	Shutdown behaviour : STOP/ Terminate 	: STOP

Step 4 : Choose storage

	root volume : volume that contains Operating system : 30 gb for windows

Step 5 : Add Tags : COmbination of Key and Value pairs.

Name : 
Project : 
Platform : Windows / Linux
COst center : AAZAA

Step 6: Configure Security Group : Security group acts as Firewall at Instance level.

OS Ports/protocols : 0 - 65535

Windows : RDP : 3389 : 
Linux : SSH : 22
Webserver : http : 80
Secure web : https : 443
mysql : 3306
mssql : 1433


source : From where you want to connect to this instance.
MyIP : It picks currently connected network ip address. No one can connect to the server apart from this particular network users.
Custom : We can give any network IPs. 
Anywhere : Anyone with valid credentials can connect to the server. (username and pwd)

Step 7 : Review and launch with keypair.

Keypair : Key pair contains public key and private key. (.pem)

AWS Holds the Public Key. This will be stored in our launched ec2 instances.
Customer/WE holdes the Private key. Used to decrypt/generate the password for initial instance connect.

Public IP : Unique across the globe : Use this to connect to your instance.
Private IP : Unique with in the aws network : 


COnnect to Windows Instance :

--> Open "run" , type "mstsc" , CLick enter.. Provide instance "Public IP".
--> Choose instance "connect', choose "RDP Client", "Download remote desktop file"

MAC : https://apps.apple.com/us/app/microsoft-remote-desktop/id1295203466?mt=12


start/stop : 10 days work.. 1 month.. : Stop, Start the server
Terminate : Delete the server..

Task : Launch windows ec2 instance and using keypair get connect to ec2 instance.

Task 2 : Change the password of "Administrator", Disconnect from the instance. Now try to login to ec2 instance using "keypair pwd" , "Custom password".

Task 3 : "Create a new user" in ec2 instance and provide him "Local administrator rights", also provide him "Remote desktop permissions".. Take a session with this user along with administrator.

________________________________________________________________________________

D: 08/01/2022

Linux OS : Amazon Linux 2 OS.. RHEL, Ubuntu, Suse, Kali

RedHat, CentOS --> Amazon Linux 


chmod 400 keypair.pem


Step 1 : Choose an AMI (Amazon Machine Image)	: Operating System : Amazon Linux 2 
	
Step 2 : Choose an Instance type : t2.micro	: vCPU, Memory(RAM), Network perf

Step 3 : Configure additional settings
	VPC, ROles, userdata

	Instance Termination protection : Enable
	Shutdown behaviour : STOP

Step 4 : Choose storage

	root volume : volume that contains Operating system : 8/10 gb for linux

Step 5 : Add Tags : COmbination of Key and Value pairs.

Name : 
Project : 
Platform : Windows / Linux
Cost center : AAZAA

Step 6: Configure Security Group : Security group acts as Firewall at Instance level.

Linux : SSH : 22 : Anywhere
Webserver : http : 80
Secure web : https : 443

Step 7 : Review and launch with keypair.

Keypair : Key pair contains public key and private key. (.pem)

How to Connect to Linux Instance :

--> Select Instance, click on "Connect" --> "ec2 instance connect" --> "ec2-user" --> Connect. (We don't use this in realtime)
___

--> We can use windows Cmd prompt to connect to Linux Instance : Install "OpenSSH" in your laptop. 
	--> apps&features --> optional features --> openssh client--> Enable/Install.

Open Settings, then go to Apps > Apps & Features.
Go to Optional Features.
In the list, select OpenSSH Client or OpenSSH Server.
Select Install.

==> ssh -i keypair.pem ec2-user@publicip/dns
ssh -i "linuxkp.pem" ec2-user@ec2-3-108-53-198.ap-south-1.compute.amazonaws.com

__

Putty : Putty Don't support .pem format files.. Putty need .ppk (putty private key) file format. 
1 --> generate a .ppk file, before launching linux instance and use the .ppk file to connect using putty application.
2 --> Convert the existing .pem file to .ppk file using PuttyGEN application. 

Open "puttygen", CLick on "load", Browse the .pem file location, select the .pem file, Click on "open"... "Create Private key", Yes, Save it in handy location.

https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html	--> Download putty

__

Install "GIT for Windows", Then use GIt terminal to connect. 

https://git-scm.com/download/win

--> go to the location where we have the keypair, "Git Bash here"


Bad Permissions error :  chmod 400 keypair.pem  (Works with GIT for Windows)

Task 1 : Launch and connect to amazon linux 2 ec2 instance.




___________________________

Linux Instances : Default username : ec2-user  / redhat / ubuntu

whoami		--> tels us as what user we are working.
sudo		--> allow user to execute the command with root level permissions
sudo su		--> Switch to root user
exit		--> Exit from root user to ec2-user
clear		--> Clears the screen

ls		--> List the files/folders
ls -a		--> List all including hidden files
pwd		--> Print working directory
mkdir		--> Create a Directory/Folder
touch 		--> o bytes file/ plain file
cd		--> Change directory

copy and paste :  cp
cut and paste  :  mv

to rename a file we use "mv" command :  mv oldfilename newfilename

vim / vi / nano

VIM Editor : 

vim filename	--> Open this file in VIM editor

Press I		--> INSERT Mode
Press ESC	--> ReadOnly Mode
:wq		--> Write and Quit (Write changes to file and quit the editor)
:q!		--> Quit the Editor without writing the changes
__

Req: Make this linux Instance as Web Server (Apache).

rpm : Redhat package manager
yum : Yellowdog Update manager

yum install httpd -y
service httpd status			--> httpd webserver service status
service httpd start/stop/restart
chkconfig httpd on			--> Makes httpd as logon service.

path : /var/www/html/

cd /var/www/html/

Tool to Move the files to amazon linux ec2 instance : WinSCP
_________________________


Task 1 : Launch Amazon Linux 2 Instance, Connect to the instance. 
Task 2 : Launch a linux ec2 instance and make it as webserver, deliver the custom webpage. "Use Apache"
Task 3 : Launch a Linux 2 ec2 instance and make it as webserver using "Nginx". 
Task 4 : https://linuxsurvival.com/  (Complete all modules (first 2 atleast))


______________


